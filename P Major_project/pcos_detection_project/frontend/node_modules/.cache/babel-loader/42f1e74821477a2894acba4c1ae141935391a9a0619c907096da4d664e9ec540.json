{"ast":null,"code":"import axios from 'axios';\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\n\n// Function to predict using MLP model (clinical features only)\nexport const predictWithMLP = async clinicalData => {\n  try {\n    const response = await axios.post(`${API_URL}/predict_mlp`, clinicalData);\n    return response.data;\n  } catch (error) {\n    if (error.response && error.response.data && error.response.data.error) {\n      throw new Error(error.response.data.error);\n    }\n    throw new Error('Failed to get prediction from server');\n  }\n};\n\n// Function to predict using CNN model (image only)\nexport const predictWithCNN = async imageBase64 => {\n  try {\n    // The backend currently doesn't use the image data, but we'll send it anyway\n    // for compatibility with future implementations\n    const response = await axios.post(`${API_URL}/predict_cnn`, {\n      image: imageBase64\n    });\n    return response.data;\n  } catch (error) {\n    if (error.response && error.response.data && error.response.data.error) {\n      throw new Error(error.response.data.error);\n    }\n    throw new Error('Failed to process image');\n  }\n};\n\n// Function to predict using Fusion model (both clinical features and image)\nexport const predictWithFusion = async (clinicalData, imageBase64) => {\n  try {\n    const response = await axios.post(`${API_URL}/predict_fusion`, {\n      clinical_data: clinicalData,\n      image: imageBase64\n    });\n    return response.data;\n  } catch (error) {\n    if (error.response && error.response.data && error.response.data.error) {\n      throw new Error(error.response.data.error);\n    }\n    throw new Error('Failed to process fusion data');\n  }\n};\n\n// Predict PCOS based on clinical data\nexport const predictPCOS = async formData => {\n  return predictWithMLP(formData);\n};\n\n// Predict PCOS based on ultrasound image\nexport const predictPCOSFromImage = async imageFile => {\n  return predictWithCNN(imageFile);\n};\n\n// Check server health\nexport const checkServerHealth = async () => {\n  try {\n    const response = await axios.get(`${API_URL}/health`);\n    return response.data.status === 'healthy';\n  } catch (error) {\n    return false;\n  }\n};\n\n// Function to check the status of the models\nexport const checkModelStatus = async () => {\n  try {\n    const response = await axios.get(`${API_URL}/model_status`);\n    return response.data;\n  } catch (error) {\n    console.error('Model status check failed:', error);\n    return {\n      mlp_model: {\n        file_exists: false,\n        pytorch_available: false,\n        fallback_available: false\n      },\n      cnn_model: {\n        file_exists: false,\n        pytorch_available: false,\n        fallback_available: false\n      },\n      fusion_model: {\n        file_exists: false,\n        pytorch_available: false,\n        fallback_available: false\n      }\n    };\n  }\n};","map":{"version":3,"names":["axios","API_URL","process","env","REACT_APP_API_URL","predictWithMLP","clinicalData","response","post","data","error","Error","predictWithCNN","imageBase64","image","predictWithFusion","clinical_data","predictPCOS","formData","predictPCOSFromImage","imageFile","checkServerHealth","get","status","checkModelStatus","console","mlp_model","file_exists","pytorch_available","fallback_available","cnn_model","fusion_model"],"sources":["C:/Users/Bhargavi/OneDrive/Desktop/P Major_project/pcos_detection_project/frontend/src/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n\r\n// Function to predict using MLP model (clinical features only)\r\nexport const predictWithMLP = async (clinicalData) => {\r\n  try {\r\n    const response = await axios.post(`${API_URL}/predict_mlp`, clinicalData);\r\n    return response.data;\r\n  } catch (error) {\r\n    if (error.response && error.response.data && error.response.data.error) {\r\n      throw new Error(error.response.data.error);\r\n    }\r\n    throw new Error('Failed to get prediction from server');\r\n  }\r\n};\r\n\r\n// Function to predict using CNN model (image only)\r\nexport const predictWithCNN = async (imageBase64) => {\r\n  try {\r\n    // The backend currently doesn't use the image data, but we'll send it anyway\r\n    // for compatibility with future implementations\r\n    const response = await axios.post(`${API_URL}/predict_cnn`, {\r\n      image: imageBase64\r\n    });\r\n    return response.data;\r\n  } catch (error) {\r\n    if (error.response && error.response.data && error.response.data.error) {\r\n      throw new Error(error.response.data.error);\r\n    }\r\n    throw new Error('Failed to process image');\r\n  }\r\n};\r\n\r\n// Function to predict using Fusion model (both clinical features and image)\r\nexport const predictWithFusion = async (clinicalData, imageBase64) => {\r\n  try {\r\n    const response = await axios.post(`${API_URL}/predict_fusion`, {\r\n      clinical_data: clinicalData,\r\n      image: imageBase64\r\n    });\r\n    return response.data;\r\n  } catch (error) {\r\n    if (error.response && error.response.data && error.response.data.error) {\r\n      throw new Error(error.response.data.error);\r\n    }\r\n    throw new Error('Failed to process fusion data');\r\n  }\r\n};\r\n\r\n// Predict PCOS based on clinical data\r\nexport const predictPCOS = async (formData) => {\r\n  return predictWithMLP(formData);\r\n};\r\n\r\n// Predict PCOS based on ultrasound image\r\nexport const predictPCOSFromImage = async (imageFile) => {\r\n  return predictWithCNN(imageFile);\r\n};\r\n\r\n// Check server health\r\nexport const checkServerHealth = async () => {\r\n  try {\r\n    const response = await axios.get(`${API_URL}/health`);\r\n    return response.data.status === 'healthy';\r\n  } catch (error) {\r\n    return false;\r\n  }\r\n};\r\n\r\n// Function to check the status of the models\r\nexport const checkModelStatus = async () => {\r\n  try {\r\n    const response = await axios.get(`${API_URL}/model_status`);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Model status check failed:', error);\r\n    return {\r\n      mlp_model: { file_exists: false, pytorch_available: false, fallback_available: false },\r\n      cnn_model: { file_exists: false, pytorch_available: false, fallback_available: false },\r\n      fusion_model: { file_exists: false, pytorch_available: false, fallback_available: false }\r\n    };\r\n  }\r\n}; "],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,2BAA2B;;AAE5E;AACA,OAAO,MAAMC,cAAc,GAAG,MAAOC,YAAY,IAAK;EACpD,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMP,KAAK,CAACQ,IAAI,CAAC,GAAGP,OAAO,cAAc,EAAEK,YAAY,CAAC;IACzE,OAAOC,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,IAAIA,KAAK,CAACH,QAAQ,IAAIG,KAAK,CAACH,QAAQ,CAACE,IAAI,IAAIC,KAAK,CAACH,QAAQ,CAACE,IAAI,CAACC,KAAK,EAAE;MACtE,MAAM,IAAIC,KAAK,CAACD,KAAK,CAACH,QAAQ,CAACE,IAAI,CAACC,KAAK,CAAC;IAC5C;IACA,MAAM,IAAIC,KAAK,CAAC,sCAAsC,CAAC;EACzD;AACF,CAAC;;AAED;AACA,OAAO,MAAMC,cAAc,GAAG,MAAOC,WAAW,IAAK;EACnD,IAAI;IACF;IACA;IACA,MAAMN,QAAQ,GAAG,MAAMP,KAAK,CAACQ,IAAI,CAAC,GAAGP,OAAO,cAAc,EAAE;MAC1Da,KAAK,EAAED;IACT,CAAC,CAAC;IACF,OAAON,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,IAAIA,KAAK,CAACH,QAAQ,IAAIG,KAAK,CAACH,QAAQ,CAACE,IAAI,IAAIC,KAAK,CAACH,QAAQ,CAACE,IAAI,CAACC,KAAK,EAAE;MACtE,MAAM,IAAIC,KAAK,CAACD,KAAK,CAACH,QAAQ,CAACE,IAAI,CAACC,KAAK,CAAC;IAC5C;IACA,MAAM,IAAIC,KAAK,CAAC,yBAAyB,CAAC;EAC5C;AACF,CAAC;;AAED;AACA,OAAO,MAAMI,iBAAiB,GAAG,MAAAA,CAAOT,YAAY,EAAEO,WAAW,KAAK;EACpE,IAAI;IACF,MAAMN,QAAQ,GAAG,MAAMP,KAAK,CAACQ,IAAI,CAAC,GAAGP,OAAO,iBAAiB,EAAE;MAC7De,aAAa,EAAEV,YAAY;MAC3BQ,KAAK,EAAED;IACT,CAAC,CAAC;IACF,OAAON,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,IAAIA,KAAK,CAACH,QAAQ,IAAIG,KAAK,CAACH,QAAQ,CAACE,IAAI,IAAIC,KAAK,CAACH,QAAQ,CAACE,IAAI,CAACC,KAAK,EAAE;MACtE,MAAM,IAAIC,KAAK,CAACD,KAAK,CAACH,QAAQ,CAACE,IAAI,CAACC,KAAK,CAAC;IAC5C;IACA,MAAM,IAAIC,KAAK,CAAC,+BAA+B,CAAC;EAClD;AACF,CAAC;;AAED;AACA,OAAO,MAAMM,WAAW,GAAG,MAAOC,QAAQ,IAAK;EAC7C,OAAOb,cAAc,CAACa,QAAQ,CAAC;AACjC,CAAC;;AAED;AACA,OAAO,MAAMC,oBAAoB,GAAG,MAAOC,SAAS,IAAK;EACvD,OAAOR,cAAc,CAACQ,SAAS,CAAC;AAClC,CAAC;;AAED;AACA,OAAO,MAAMC,iBAAiB,GAAG,MAAAA,CAAA,KAAY;EAC3C,IAAI;IACF,MAAMd,QAAQ,GAAG,MAAMP,KAAK,CAACsB,GAAG,CAAC,GAAGrB,OAAO,SAAS,CAAC;IACrD,OAAOM,QAAQ,CAACE,IAAI,CAACc,MAAM,KAAK,SAAS;EAC3C,CAAC,CAAC,OAAOb,KAAK,EAAE;IACd,OAAO,KAAK;EACd;AACF,CAAC;;AAED;AACA,OAAO,MAAMc,gBAAgB,GAAG,MAAAA,CAAA,KAAY;EAC1C,IAAI;IACF,MAAMjB,QAAQ,GAAG,MAAMP,KAAK,CAACsB,GAAG,CAAC,GAAGrB,OAAO,eAAe,CAAC;IAC3D,OAAOM,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACde,OAAO,CAACf,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;IAClD,OAAO;MACLgB,SAAS,EAAE;QAAEC,WAAW,EAAE,KAAK;QAAEC,iBAAiB,EAAE,KAAK;QAAEC,kBAAkB,EAAE;MAAM,CAAC;MACtFC,SAAS,EAAE;QAAEH,WAAW,EAAE,KAAK;QAAEC,iBAAiB,EAAE,KAAK;QAAEC,kBAAkB,EAAE;MAAM,CAAC;MACtFE,YAAY,EAAE;QAAEJ,WAAW,EAAE,KAAK;QAAEC,iBAAiB,EAAE,KAAK;QAAEC,kBAAkB,EAAE;MAAM;IAC1F,CAAC;EACH;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}